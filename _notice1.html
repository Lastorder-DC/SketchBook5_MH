<tr loop="$notice_list=>$no,$document" class="notice">
	<td $list_config['no']">{$lang->notice}</td>
	<td class="title">
		<!--// 공지사항 일반 출력 -->
		<a cond="$mi->notice_view_slide ==''" href="{getUrl('document_srl',$document->document_srl, 'listStyle', $listStyle, 'cpage','')}">
			<strong>
				<include cond="$mi->notice_view_slide ==''" target="title.html" />
			</strong>
		</a>

		<!--// 공지사항 슬라이드 출력 -->
		<details cond="!$mi->notice_view_slide ==''" class="accordion">
			<summary class="notice_fold">
				<strong><include target="title.html" /></strong>
			</summary>

				<p style="margin-top:10px">
					<span>{$document->getContent(false)}</span>

					<div style="text-align:right; float:left; padding-bottom:5px; width:100%">
						<div style="float:right">
							<a href="{getUrl('document_srl',$document->document_srl, 'listStyle', $listStyle, 'cpage','')}" class="btn"><span>공지글 보기</span></a>

							<!--@if($grant->write_comment && $oDocument->isEnableComment() )-->
							  <a href="{getUrl('act','dispBoardWriteComment','document_srl',$document->document_srl)}" class="btn"><span>{$lang->cmd_comment_registration}</span></a>
							<!--@end-->
							
							<!--@if($document->isEditable())-->
								<!--@if(!( !$grant->manager && $document->getCommentCount()))-->	
								  <a href="{getUrl('act','dispBoardWrite','document_srl',$document->document_srl,'comment_srl','')}" class="btn"><span>{$lang->cmd_modify}</span></a>
								<!--@end-->
								<!--@if(!( !$grant->manager && $oDocument->getCommentCount()))-->	
								  <a href="{getUrl('act','dispBoardDelete','document_srl',$document->document_srl,'comment_srl','')}" class="btn"><span>{$lang->cmd_delete}</span></a>
								<!--@end-->
						  <!--@end-->
						  </div>
					</div>
				</p>

				<style>
					summary.notice_fold::-webkit-details-marker { display: none; }
					summary.notice_fold { display: block; }
					summary.notice_fold { position: relative; padding-left: 1.2em;	 cursor: pointer; }
					summary.notice_fold::before { content: ""; position: absolute;	 border-top: 0.5em solid transparent; border-bottom: 0.5em solid transparent; border-left: 0.75em solid yellowgreen;	 top: 0.2em; left: 0; transition: .25s transform; }
					details[open] summary:before { transform: rotateZ(90deg); }

					<!--// summary.notice_fold::marker{ content: " "; }
					details[open] summary.notice_fold::marker { content: "️ ▲ 접기 "; } -->
				</style>
		</details>
	</td>
	<td cond="$list_config['nick_name']"><a href="#popup_menu_area" class="member_{$document->get('member_srl')}" onclick="return false">{$document->getNickName()}</a></td>
	<td cond="$list_config['regdate']">{$document->getRegdate('Y.m.d')}</td>
	<td cond="$list_config['last_update']">{getTimeGap($document->get('last_update'), "y.m.d")}</td>
</tr>

<!--// 한개의 공지내용만 Open -->
<script>
	const detailsList = document.querySelectorAll('.accordion');

	for (const details of detailsList) {
	  details.addEventListener('click', () => {
		if (details.open) {
		  // 현재 열려 있는 details가 아닌 다른 details를 찾아 닫습니다.
		  for (const otherDetails of detailsList) {
			if (otherDetails !== details && otherDetails.open) {
			  otherDetails.open = false;
			}
		  }
		}
	  });
	}
</script>

<!--// 내용글 Open시 슬라이딩 효과 -->
<script>
	const $_details = $(".accordion");
	const $_summary = $_details.find(".notice_fold");

	$_summary.on("click", function(e) {
		e.preventDefault();

		const $_this = $(this);
		const $_this_details = $_this.parent("details");
		const $_this_details_p = $_this_details.find("p");
		const $_this_details_open = $_this_details.attr("open");

		if (! $_this_details_open) {
			$_this_details.prop("open", true);
			$_this_details_p.stop().slideDown(1000);
		} else {
			$_this_details_p.stop().slideUp(500, function() {
				$_this_details.prop("open", false);
			});
		}
	});
</script>